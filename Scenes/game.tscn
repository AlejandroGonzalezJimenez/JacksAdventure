[gd_scene load_steps=29 format=3 uid="uid://bey5tf3ss3lij"]

[ext_resource type="Script" uid="uid://chk3emgj38dvd" path="res://Scripts/game_manager.gd" id="1_i6g32"]
[ext_resource type="Script" uid="uid://dw6le4vg1houw" path="res://Scripts/Environment/camera.gd" id="1_wowpa"]
[ext_resource type="PackedScene" uid="uid://cre4dalncoglv" path="res://Scenes/background.tscn" id="2_i6g32"]
[ext_resource type="PackedScene" uid="uid://bnebn015yw8l2" path="res://Scenes/Characters/jack.tscn" id="3_1l0tm"]
[ext_resource type="Script" uid="uid://bpg2jgjdgxkmp" path="res://Scripts/player.gd" id="4_v158k"]
[ext_resource type="PackedScene" uid="uid://b1hr8js8tsiro" path="res://Scenes/Levels/level_1-1.tscn" id="5_h4fw4"]
[ext_resource type="PackedScene" uid="uid://cjudt8nrgddv0" path="res://Scenes/Levels/level_1-2.tscn" id="7_1l0tm"]
[ext_resource type="Texture2D" uid="uid://ccaop0gr4l4bw" path="res://Treasure Hunters/Pirate Treasure/Sprites/Gold Coin/01.png" id="8_h4fw4"]
[ext_resource type="Script" uid="uid://ccrbr3cf7xy1g" path="res://Scripts/UI/counter.gd" id="8_ldgsr"]
[ext_resource type="Texture2D" uid="uid://wfe4xke2rka1" path="res://Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/36.png" id="9_ldgsr"]
[ext_resource type="Texture2D" uid="uid://db28nokpb8m3n" path="res://Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/27.png" id="10_iivbl"]
[ext_resource type="Texture2D" uid="uid://55mms25p0xxq" path="res://Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/28.png" id="11_7nbq1"]
[ext_resource type="Texture2D" uid="uid://qibu8xyusen6" path="res://Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/29.png" id="12_exi56"]
[ext_resource type="Texture2D" uid="uid://dw413lir6nk62" path="res://Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/30.png" id="13_7t8sx"]
[ext_resource type="Texture2D" uid="uid://jtk4u42iu1an" path="res://Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/31.png" id="14_mg4q0"]
[ext_resource type="Texture2D" uid="uid://se8v7oeqwi25" path="res://Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/32.png" id="15_vm72l"]
[ext_resource type="Texture2D" uid="uid://dv6m0pyi4p5n3" path="res://Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/33.png" id="16_22asu"]
[ext_resource type="Texture2D" uid="uid://dqnrkcvyd5p5t" path="res://Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/34.png" id="17_fkdbe"]
[ext_resource type="Texture2D" uid="uid://7ygfjt8oqay5" path="res://Treasure Hunters/Wood and Paper UI/Sprites/Small Text/Small Text/35.png" id="18_81klo"]
[ext_resource type="Texture2D" uid="uid://cvt47phqnr8ih" path="res://Treasure Hunters/Pirate Treasure/Sprites/Golden Skull/00.png" id="20_7nbq1"]
[ext_resource type="Texture2D" uid="uid://bq6kc6le1p4u4" path="res://Treasure Hunters/Merchant Ship/Sprites/Chest Key/Idle/1.png" id="21_exi56"]
[ext_resource type="PackedScene" uid="uid://buw8jeq616p61" path="res://Scenes/fade.tscn" id="22_mg4q0"]
[ext_resource type="Texture2D" uid="uid://cb1enajgyva4g" path="res://Treasure Hunters/Wood and Paper UI/Sprites/Life Bars/Big Bars/1.png" id="23_fkdbe"]
[ext_resource type="Script" uid="uid://ddl6gueyfiaeq" path="res://Scripts/UI/gauge.gd" id="23_tgy6u"]
[ext_resource type="AudioStream" uid="uid://dg2twsw5ve1gg" path="res://Sound Effects/Music/677858__el_boss__game-success-fanfare-short.wav" id="23_vm72l"]
[ext_resource type="Texture2D" uid="uid://ct7anubq007hd" path="res://Treasure Hunters/Wood and Paper UI/Sprites/Life Bars/Big Bars/3.png" id="24_81klo"]
[ext_resource type="Texture2D" uid="uid://bn0ne6dn3r6g3" path="res://Treasure Hunters/Wood and Paper UI/Sprites/Life Bars/Big Bars/4.png" id="25_tgy6u"]
[ext_resource type="Texture2D" uid="uid://cqvcgk46cl55y" path="res://Treasure Hunters/Wood and Paper UI/Sprites/Life Bars/Colors/1.png" id="27_cwurv"]

[node name="Game" type="Node2D"]
script = ExtResource("1_i6g32")

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("_subject")]
position = Vector2(72, -24)
zoom = Vector2(3, 3)
script = ExtResource("1_wowpa")
_subject = NodePath("../Jack")
_offset = Vector2(2, -1)
_look_ahead_trans_type = 1
_look_ahead_ease_Type = 2
_look_ahead_duration = 2.0
_floor_height_trans_type = 1
_floor_height_ease_Type = 1

[node name="Background" parent="Camera2D" instance=ExtResource("2_i6g32")]
_scroll_speed = -32.0

[node name="Jack" parent="." instance=ExtResource("3_1l0tm")]
position = Vector2(-102, 79)
_speed = 5.0
_acceleration = 10.0
_deceleration = 20.0

[node name="Player" type="Node" parent="Jack"]
script = ExtResource("4_v158k")

[node name="Level" parent="." instance=ExtResource("5_h4fw4")]

[node name="Level2" parent="." instance=ExtResource("7_1l0tm")]
position = Vector2(-2216, 592)

[node name="UserInterface" type="CanvasLayer" parent="."]

[node name="CoinCounter" type="HBoxContainer" parent="UserInterface"]
offset_left = 32.0
offset_top = 32.0
offset_right = 72.0
offset_bottom = 72.0
scale = Vector2(2, 2)
script = ExtResource("8_ldgsr")
_digits = Array[Texture2D]([ExtResource("9_ldgsr"), ExtResource("10_iivbl"), ExtResource("11_7nbq1"), ExtResource("12_exi56"), ExtResource("13_7t8sx"), ExtResource("14_mg4q0"), ExtResource("15_vm72l"), ExtResource("16_22asu"), ExtResource("17_fkdbe"), ExtResource("18_81klo")])

[node name="Icon" type="TextureRect" parent="UserInterface/CoinCounter"]
layout_mode = 2
texture = ExtResource("8_h4fw4")
expand_mode = 3

[node name="Tens" type="TextureRect" parent="UserInterface/CoinCounter"]
custom_minimum_size = Vector2(10, 0)
layout_mode = 2
texture = ExtResource("9_ldgsr")
expand_mode = 5
stretch_mode = 5

[node name="Ones" type="TextureRect" parent="UserInterface/CoinCounter"]
custom_minimum_size = Vector2(10, 0)
layout_mode = 2
texture = ExtResource("9_ldgsr")
expand_mode = 5
stretch_mode = 5

[node name="LivesCounter" type="HBoxContainer" parent="UserInterface"]
layout_direction = 3
offset_left = 96.0
offset_top = 32.0
offset_right = 164.0
offset_bottom = 72.0
scale = Vector2(2, 2)
script = ExtResource("8_ldgsr")
_digits = Array[Texture2D]([ExtResource("9_ldgsr"), ExtResource("10_iivbl"), ExtResource("11_7nbq1"), ExtResource("12_exi56"), ExtResource("13_7t8sx"), ExtResource("14_mg4q0"), ExtResource("15_vm72l"), ExtResource("16_22asu"), ExtResource("17_fkdbe"), ExtResource("18_81klo")])

[node name="Icon" type="TextureRect" parent="UserInterface/LivesCounter"]
layout_mode = 2
texture = ExtResource("20_7nbq1")
expand_mode = 3

[node name="Ones" type="TextureRect" parent="UserInterface/LivesCounter"]
custom_minimum_size = Vector2(10, 0)
layout_mode = 2
texture = ExtResource("9_ldgsr")
expand_mode = 5
stretch_mode = 5

[node name="Tens" type="TextureRect" parent="UserInterface/LivesCounter"]
custom_minimum_size = Vector2(10, 0)
layout_mode = 2
texture = ExtResource("9_ldgsr")
expand_mode = 5
stretch_mode = 5

[node name="KeyIcon" type="TextureRect" parent="UserInterface"]
visible = false
offset_left = 32.0
offset_top = 96.0
offset_right = 72.0
offset_bottom = 136.0
scale = Vector2(2, 2)
texture = ExtResource("21_exi56")

[node name="HealthGauge" type="Control" parent="UserInterface"]
layout_mode = 3
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 32.0
offset_top = -40.0
offset_right = 72.0
grow_vertical = 0
scale = Vector2(4, 4)
pivot_offset = Vector2(0, 40)
script = ExtResource("23_tgy6u")

[node name="Background" type="HBoxContainer" parent="UserInterface/HealthGauge"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0
theme_override_constants/separation = 0

[node name="TextureRect" type="TextureRect" parent="UserInterface/HealthGauge/Background"]
layout_mode = 2
texture = ExtResource("23_fkdbe")

[node name="TextureRect2" type="TextureRect" parent="UserInterface/HealthGauge/Background"]
layout_mode = 2
texture = ExtResource("24_81klo")

[node name="TextureRect3" type="TextureRect" parent="UserInterface/HealthGauge/Background"]
layout_mode = 2
texture = ExtResource("25_tgy6u")

[node name="Fill" type="TextureRect" parent="UserInterface/HealthGauge"]
layout_mode = 0
offset_left = 17.0
offset_top = 18.0
offset_right = 92.0
offset_bottom = 20.0
texture = ExtResource("27_cwurv")
expand_mode = 1

[node name="Fade" parent="UserInterface" instance=ExtResource("22_mg4q0")]

[node name="Fanfare" type="AudioStreamPlayer" parent="."]
stream = ExtResource("23_vm72l")

[connection signal="changed_direction" from="Jack" to="Camera2D" method="_on_subject_changed_direction"]
[connection signal="health_changed" from="Jack" to="UserInterface/HealthGauge" method="set_value"]
[connection signal="landed" from="Jack" to="Camera2D" method="_on_subject_landed"]
